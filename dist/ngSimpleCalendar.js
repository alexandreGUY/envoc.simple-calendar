!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var a=n(1);void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))});var r=Object.create(null);r.weekStart=0,angular.module("envoc.simpleCalendar",[]).constant("simpleCalendarConfig",r).directive("simpleCalendar",a)},function(e,t,n){function a(e){return{restrict:"EA",scope:{date:"=",events:"="},controller:r,controllerAs:"calendar",bindToController:!0,transclude:!0,link:function(t,n,a,r,i){i(t,function(a){var r=angular.element(s),i=r.querySelectorAll(".simple-calendar-day").append(a),l=r.querySelectorAll("simple-calendar-day"),o=r.querySelectorAll("simple-calendar-event"),d=angular.element("<div></div>");if(d.append(l.html()||"{{$day.day}}"),o.length){var c=angular.element('<div class="simple-calendar-event agy"></div>').attr("ng-repeat","$event in $day.events").attr("ng-click","calendar.onEventClick($day.events[$index], $day); $event.stopPropagation();").html(o.html());d.append(c)}i.empty().append(d),n.append(e(r)(t))}),r.init(n)}}}function r(e,t,n,a){function r(){y.date=y.date||new Date,y.events=l().slice(),e.$watchCollection(l,function(){o(y.date)}),e.$watch(s,o)}function s(){return y.date}function l(){return y.events||[]}function o(e){var t=c(new Date(e));y.days=p.getCalendar.apply(p,t),y.days.forEach(d.bind(null,y.events)),y.weeks=h(y.days,7)}function d(e,t){t.events=e.filter(function(e){var n=c(new Date(e.date)),a=n[0]===t.year&&n[1]===t.month&&n[2]===t.day;return a})}function c(e){return[e.getFullYear(),e.getMonth(),e.getDate()]}function h(e,t){for(var n=e.slice(),a=n.length/t,r=[],i=0;i<a;i++)r.push(n.splice(0,t));return r}var y=this,u=angular.extend(a,{siblingMonths:!0}),p=new i(u),m=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],v=m.splice(a.weekStart);y.weekdays=v.concat(m),y.init=r,y.onDayClick=a.onDayClick||function(){},y.onEventClick=a.onEventClick||function(){}}var i=n(2).Calendar,s=n(3);a.$inject=["$compile"],r.$inject=["$scope","$element","$attrs","simpleCalendarConfig"],e.exports=a},function(e,t){function n(e){e=e||{},this.startDate=e.startDate,this.endDate=e.endDate,this.maxInterval=e.maxInterval,this.maxConstraint=e.maxConstraint,this.siblingMonths=e.siblingMonths,this.weekStart=e.weekStart,void 0===this.weekStart&&(this.weekStart=0),this.date=new Date(1986,9,14,0,0,0)}n.prototype.getCalendar=function(e,t){this.date.setUTCFullYear(e),this.date.setUTCMonth(t),this.date.setUTCDate(1);for(var a,r,i,s,l,o=[],d=this.date.getUTCDay(),c=-((7-this.weekStart+d)%7),h=n.daysInMonth(e,t),y=(h-c)%7,u=n.daysInMonth(e,t-1),p=c,m=h-p+(0!=y?7-y:0)+c;p<m;)r=p+1,a=((p<1?7+p:p)+d)%7,r<1||r>h?this.siblingMonths?(r<1?(s=t-1,l=e,s<0&&(s=11,l--),r=u+r):r>h&&(s=t+1,l=e,s>11&&(s=0,l++),r=p-h+1),i={day:r,weekDay:a,month:s,year:l,siblingMonth:!0}):i=!1:i={day:r,weekDay:a,month:t,year:e},i&&this.startDate&&(i.selected=this.isDateSelected(i)),o.push(i),p++;return o},n.prototype.isDateSelected=function(e){return e.year==this.startDate.year&&e.month==this.startDate.month&&e.day==this.startDate.day||!!this.endDate&&(!(e.year==this.startDate.year&&e.month==this.startDate.month&&e.day<this.startDate.day)&&(!(e.year==this.endDate.year&&e.month==this.endDate.month&&e.day>this.endDate.day)&&(!(e.year==this.startDate.year&&e.month<this.startDate.month)&&(!(e.year==this.endDate.year&&e.month>this.endDate.month)&&(!(e.year<this.startDate.year)&&!(e.year>this.endDate.year))))))},n.prototype.setStartDate=function(e){this.startDate=e},n.prototype.setEndDate=function(e){this.endDate=e},n.prototype.setDate=n.prototype.setStartDate,n.interval=function(e,t){var n=new Date(1986,9,14,0,0,0),a=new Date(1986,9,14,0,0,0);return n.setUTCFullYear(e.year),n.setUTCMonth(e.month),n.setUTCDate(e.day),a.setUTCFullYear(t.year),a.setUTCMonth(t.month),a.setUTCDate(t.day),Math.abs(Math.ceil((a.getTime()-n.getTime())/864e5))+1},n.daysInMonth=function(e,t){return t==-1||0==t||2==t||4==t||6==t||7==t||9==t||11==t?31:3==t||5==t||8==t||10==t?30:1==t?28+n.isLeapYear(e):void 0},n.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.exports={Calendar:n}},function(e,t){e.exports='<table class="simple-calendar">\n    <thead>\n        <tr>\n            <td ng-repeat="weekday in calendar.weekdays">{{weekday}}</td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="week in calendar.weeks"\n            class="simple-calendar-week">\n            <td ng-repeat="$day in week"\n                ng-click="calendar.onDayClick($day)"\n                class="simple-calendar-day"\n                ng-class="{\'sibling-month\': $day.siblingMonth, \'has-events\': $day.events.length}">\n\n                <div>\n                    {{$day.day}}\n                </div>\n                <div class="simple-calendar-event agy"\n                      ng-repeat="$event in $day.events">\n                    {{$event}}\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>'}]);