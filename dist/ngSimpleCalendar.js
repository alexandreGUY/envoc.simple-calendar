!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){var n=a(1);void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))});var r=Object.create(null);r.weekStart=0,angular.module("envoc.simpleCalendar",[]).constant("simpleCalendarConfig",r).directive("simpleCalendar",n)},function(e,t,a){function n(e){return{restrict:"EA",scope:{date:"=",events:"="},controller:r,controllerAs:"calendar",bindToController:!0,transclude:!0,link:function(t,a,n,r,i){i(t,function(n){var r=angular.element(s),i=r.querySelectorAll(".simple-calendar-day").append(n),l=r.querySelectorAll("simple-calendar-day"),o=r.querySelectorAll("simple-calendar-event"),d=angular.element("<div></div>");if(d.append(l.html()||"{{$day.day}}"),o.length){var c=angular.element('<div class="simple-calendar-event"></div>').attr("ng-repeat","$event in $day.events").attr("ng-click","calendar.onEventClick($day.events[$index], $day); $event.stopPropagation();").html(o.html());d.append(c)}i.empty().append(d),a.append(e(r)(t))}),r.init(a)}}}function r(e,t,a,n){function r(){y.date=y.date||new Date,y.events=l().slice(),e.$watchCollection(l,function(){o(y.date)}),e.$watch(s,o)}function s(){return y.date}function l(){return y.events||[]}function o(e){var t=c(new Date(e));y.days=p.getCalendar.apply(p,t),y.days.forEach(d.bind(null,y.events)),y.weeks=h(y.days,7)}function d(e,t){t.events=e.filter(function(e){var a=c(new Date(e.date)),n=a[0]===t.year&&a[1]===t.month&&a[2]===t.day;return n})}function c(e){return[e.getFullYear(),e.getMonth(),e.getDate()]}function h(e,t){for(var a=e.slice(),n=a.length/t,r=[],i=0;i<n;i++)r.push(a.splice(0,t));return r}var y=this,u=angular.extend(n,{siblingMonths:!0}),p=new i(u),m=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],D=m.splice(n.weekStart);y.weekdays=D.concat(m),y.init=r,y.onDayClick=n.onDayClick||function(){},y.onEventClick=n.onEventClick||function(){}}var i=a(2).Calendar,s=a(3);n.$inject=["$compile"],r.$inject=["$scope","$element","$attrs","simpleCalendarConfig"],e.exports=n},function(e,t){function a(e){e=e||{},this.startDate=e.startDate,this.endDate=e.endDate,this.maxInterval=e.maxInterval,this.maxConstraint=e.maxConstraint,this.siblingMonths=e.siblingMonths,this.weekStart=e.weekStart,void 0===this.weekStart&&(this.weekStart=0),this.date=new Date(1986,9,14,0,0,0)}a.prototype.getCalendar=function(e,t){this.date.setUTCFullYear(e),this.date.setUTCMonth(t),this.date.setUTCDate(1);for(var n,r,i,s,l,o=[],d=this.date.getUTCDay(),c=-((7-this.weekStart+d)%7),h=a.daysInMonth(e,t),y=(h-c)%7,u=a.daysInMonth(e,t-1),p=c,m=h-p+(0!=y?7-y:0)+c;p<m;)r=p+1,n=((p<1?7+p:p)+d)%7,r<1||r>h?this.siblingMonths?(r<1?(s=t-1,l=e,s<0&&(s=11,l--),r=u+r):r>h&&(s=t+1,l=e,s>11&&(s=0,l++),r=p-h+1),i={day:r,weekDay:n,month:s,year:l,siblingMonth:!0}):i=!1:i={day:r,weekDay:n,month:t,year:e},i&&this.startDate&&(i.selected=this.isDateSelected(i)),o.push(i),p++;return o},a.prototype.isDateSelected=function(e){return e.year==this.startDate.year&&e.month==this.startDate.month&&e.day==this.startDate.day||!!this.endDate&&(!(e.year==this.startDate.year&&e.month==this.startDate.month&&e.day<this.startDate.day)&&(!(e.year==this.endDate.year&&e.month==this.endDate.month&&e.day>this.endDate.day)&&(!(e.year==this.startDate.year&&e.month<this.startDate.month)&&(!(e.year==this.endDate.year&&e.month>this.endDate.month)&&(!(e.year<this.startDate.year)&&!(e.year>this.endDate.year))))))},a.prototype.setStartDate=function(e){this.startDate=e},a.prototype.setEndDate=function(e){this.endDate=e},a.prototype.setDate=a.prototype.setStartDate,a.interval=function(e,t){var a=new Date(1986,9,14,0,0,0),n=new Date(1986,9,14,0,0,0);return a.setUTCFullYear(e.year),a.setUTCMonth(e.month),a.setUTCDate(e.day),n.setUTCFullYear(t.year),n.setUTCMonth(t.month),n.setUTCDate(t.day),Math.abs(Math.ceil((n.getTime()-a.getTime())/864e5))+1},a.daysInMonth=function(e,t){return t==-1||0==t||2==t||4==t||6==t||7==t||9==t||11==t?31:3==t||5==t||8==t||10==t?30:1==t?28+a.isLeapYear(e):void 0},a.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.exports={Calendar:a}},function(e,t){e.exports='<table class="simple-calendar">\n    <thead>\n        <tr>\n            <td ng-repeat="weekday in calendar.weekdays">{{weekday}}</td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="week in calendar.weeks"\n            class="simple-calendar-week">\n            <td ng-repeat="$day in week"\n                ng-click="calendar.onDayClick($day)"\n                class="simple-calendar-day"\n                ng-class="{\'sibling-month\': $day.siblingMonth, \'has-events\': $day.events.length}">\n            </td>\n        </tr>\n    </tbody>\n</table>'}]);